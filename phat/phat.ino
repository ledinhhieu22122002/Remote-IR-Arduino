
#include <IRremote.h>
IRsend irsend;
char command;
void setup()
{
  Serial.begin(9600);
}
unsigned int raw[319];
//Bật
unsigned int on[319]={492, 388, 480, 384, 484, 388, 484, 380, 488, 380, 488, 25124, 3532, 1676, 492, 1272, 444, 384, 508, 384, 484, 404, 464, 1272, 440, 428, 464, 388, 480, 392, 452, 428, 468, 1272, 464, 384, 484, 1272, 464, 1272, 464, 380, 488, 1272, 468, 1268, 464, 1276, 440, 1296, 464, 1272, 440, 404, 488, 336, 508, 1296, 444, 428, 460, 336, 536, 372, 472, 428, 464, 376, 468, 428, 440, 428, 444, 424, 440, 432, 440, 400, 468, 428, 460, 332, 516, 388, 480, 404, 464, 428, 440, 428, 440, 404, 464, 404, 464, 1276, 464, 428, 440, 428, 440, 428, 440, 1296, 440, 1296, 440, 404, 464, 404, 468, 404, 460, 432, 436, 1300, 436, 408, 464, 1296, 440, 1276, 460, 404, 464, 432, 436, 404, 464, 432, 436, 432, 436, 404, 468, 400, 464, 408, 464, 408, 460, 404, 464, 404, 464, 408, 460, 432, 436, 408, 464, 1268, 468, 1268, 468, 428, 440, 1272, 468, 428, 436, 432, 440, 404, 488, 380, 464, 428, 440, 428, 440, 428, 440, 428, 440, 408, 464, 424, 444, 428, 440, 428, 440, 428, 440, 404, 488, 404, 444, 424, 464, 404, 440, 408, 484, 380, 488, 380, 468, 400, 488, 380, 472, 396, 468, 400, 468, 400, 492, 376, 492, 376, 468, 400, 468, 400, 492, 376, 468, 404, 488, 380, 492, 376, 468, 400, 492, 376, 492, 376, 468, 400, 468, 400, 468, 400, 468, 400, 492, 380, 488, 380, 488, 380, 488, 380, 488, 380, 488, 380, 464, 404, 464, 404, 464, 1272, 464, 408, 460, 1276, 460, 408, 460, 408, 456, 412, 456, 1280, 456, 1280, 456, 412, 456, 416, 452, 416, 452, 416, 452, 416, 452, 416, 452, 416, 452, 416, 452, 416, 452, 420, 452, 416, 452, 1284, 452, 416, 452, 416, 452, 416, 452, 420, 424, 444, 424, 444, 448, 1288, 448, 420, 452, 1308, 428, 1308, 400, 1336, 404, 1332, 404, };
//Tắt
unsigned int off[319]={488, 380, 428, 440, 428, 440, 428, 440, 428, 440, 428, 25188, 3532, 1680, 492, 1272, 464, 376, 452, 416, 428, 440, 456, 1308, 464, 376, 428, 440, 460, 408, 456, 412, 456, 1312, 464, 372, 456, 1312, 464, 1272, 464, 376, 452, 1312, 468, 1272, 464, 1272, 464, 1272, 464, 1272, 464, 376, 464, 404, 452, 1316, 464, 376, 464, 404, 456, 412, 488, 380, 460, 408, 492, 376, 460, 408, 460, 408, 492, 376, 464, 404, 492, 380, 460, 408, 468, 400, 488, 380, 488, 380, 464, 404, 464, 404, 456, 412, 492, 376, 488, 380, 492, 376, 464, 408, 488, 1276, 464, 1272, 464, 376, 492, 376, 492, 376, 492, 376, 492, 1272, 468, 376, 488, 1276, 464, 1272, 464, 376, 492, 376, 492, 376, 492, 376, 468, 404, 488, 380, 488, 376, 492, 376, 496, 372, 496, 372, 496, 372, 496, 372, 496, 372, 496, 372, 496, 1272, 468, 1272, 464, 372, 496, 1272, 464, 372, 496, 372, 496, 372, 496, 376, 492, 376, 492, 372, 496, 372, 496, 376, 492, 328, 548, 368, 496, 324, 544, 372, 496, 372, 496, 376, 492, 376, 492, 372, 496, 372, 496, 376, 492, 376, 492, 376, 472, 400, 468, 400, 492, 376, 492, 376, 492, 376, 492, 376, 492, 376, 472, 400, 488, 376, 472, 400, 472, 396, 468, 400, 468, 400, 492, 376, 468, 400, 468, 404, 464, 404, 464, 404, 464, 404, 488, 380, 464, 404, 468, 400, 468, 404, 464, 404, 464, 404, 464, 404, 464, 404, 464, 404, 464, 1272, 468, 400, 468, 1268, 468, 404, 464, 404, 464, 404, 464, 1272, 464, 1272, 468, 400, 468, 400, 492, 376, 492, 376, 492, 376, 492, 376, 492, 1248, 492, 376, 488, 380, 488, 380, 492, 376, 492, 1244, 492, 376, 492, 376, 468, 400, 492, 376, 492, 1248, 488, 1248, 488, 380, 464, 404, 488, 1248, 488, 1248, 468, 400, 468, 404, 460,};
// Tăng 
unsigned int Tang[319]={492, 388, 480, 384, 488, 388, 476, 392, 476, 388, 480, 25124, 3532, 1680, 492, 1272, 464, 384, 484, 388, 480, 404, 464, 1276, 464, 380, 488, 384, 480, 392, 476, 388, 484, 1272, 464, 388, 480, 1272, 468, 1268, 472, 380, 480, 1272, 468, 1272, 464, 1272, 464, 1272, 464, 1272, 468, 384, 484, 404, 464, 1272, 464, 320, 548, 384, 484, 384, 484, 388, 456, 428, 464, 376, 468, 384, 508, 336, 536, 324, 516, 432, 460, 388, 484, 372, 496, 332, 536, 328, 540, 392, 452, 404, 488, 384, 460, 428, 440, 1296, 444, 428, 440, 424, 444, 424, 444, 1296, 440, 1296, 464, 384, 460, 428, 440, 384, 484, 428, 440, 1300, 440, 1296, 440, 1296, 464, 1272, 464, 336, 532, 328, 540, 408, 436, 428, 440, 408, 460, 404, 468, 424, 440, 432, 440, 428, 440, 404, 464, 404, 464, 404, 464, 428, 464, 376, 468, 1296, 448, 1292, 464, 404, 440, 1296, 440, 404, 464, 404, 464, 404, 464, 428, 440, 428, 464, 376, 468, 404, 468, 400, 464, 408, 460, 432, 440, 428, 464, 380, 464, 404, 464, 404, 464, 404, 464, 428, 464, 404, 440, 432, 436, 404, 464, 408, 460, 404, 464, 432, 440, 428, 440, 404, 464, 428, 464, 376, 468, 404, 464, 404, 464, 404, 464, 408, 460, 432, 436, 404, 464, 408, 464, 404, 460, 408, 464, 408, 460, 404, 460, 408, 464, 432, 436, 404, 464, 404, 464, 408, 464, 400, 468, 404, 464, 404, 464, 404, 464, 432, 436, 428, 440, 1268, 468, 404, 468, 1264, 472, 428, 440, 428, 440, 404, 464, 1268, 468, 1268, 468, 428, 468, 380, 460, 432, 464, 376, 492, 380, 464, 400, 492, 380, 488, 376, 468, 404, 488, 380, 488, 380, 464, 1268, 492, 380, 464, 404, 488, 380, 488, 380, 464, 404, 468, 400, 492, 1244, 492, 1244, 492, 1244, 468, 1268, 468, 1272, 464, 1272, 492, };
// Giảm 
unsigned int Giam[319]={492, 380, 488, 376, 492, 380, 460, 408, 460, 408, 460, 25156, 3532, 1680, 488, 1272, 468, 376, 488, 380, 488, 380, 456, 1284, 488, 376, 460, 408, 492, 376, 492, 376, 492, 1276, 464, 376, 460, 1304, 464, 1272, 464, 376, 492, 1272, 464, 1272, 464, 1276, 464, 1272, 464, 1272, 464, 376, 488, 380, 488, 1276, 464, 376, 492, 376, 492, 380, 488, 376, 492, 380, 488, 380, 488, 380, 492, 372, 496, 372, 496, 376, 492, 372, 496, 376, 492, 372, 496, 376, 496, 372, 496, 372, 496, 372, 496, 372, 496, 1272, 464, 372, 496, 372, 496, 372, 496, 1276, 460, 1276, 464, 368, 496, 376, 496, 368, 500, 1272, 464, 320, 548, 1272, 464, 1272, 468, 1272, 464, 368, 500, 372, 496, 368, 500, 372, 496, 372, 496, 372, 496, 324, 544, 372, 496, 372, 496, 328, 540, 372, 496, 376, 496, 372, 496, 328, 540, 1272, 464, 1272, 464, 372, 496, 1276, 464, 368, 472, 404, 492, 372, 496, 372, 496, 372, 496, 376, 492, 372, 472, 400, 468, 400, 492, 376, 468, 404, 488, 376, 468, 404, 468, 400, 468, 400, 468, 400, 468, 400, 468, 400, 468, 400, 468, 404, 464, 404, 464, 404, 464, 404, 464, 404, 468, 400, 468, 400, 464, 404, 492, 380, 464, 404, 464, 404, 464, 404, 464, 404, 464, 404, 464, 408, 460, 404, 464, 408, 460, 408, 464, 404, 464, 404, 464, 404, 464, 404, 464, 404, 468, 400, 468, 400, 468, 400, 468, 400, 492, 376, 492, 376, 492, 1244, 492, 376, 496, 1240, 496, 376, 492, 376, 468, 400, 472, 1264, 492, 1244, 492, 376, 468, 400, 492, 376, 468, 400, 492, 376, 492, 380, 488, 380, 488, 380, 488, 380, 488, 380, 488, 380, 488, 1248, 488, 380, 464, 408, 460, 404, 464, 408, 460, 408, 460, 1276, 460, 408, 456, 1280, 456, 1280, 456, 1280, 456, 1284, 452, 1284, 452, };

void loop() {
  
  if(Serial.available())
  {
    
   command = Serial.read();
    switch (command) {
      case 'q':
      raw[319] = Tang[319];
      Serial.println(F("Tang"));
      irsend.sendRaw(raw,319,38);
      break;
      case 's':
      raw[319] = Giam[319];
      Serial.println(F("Giam"));
      irsend.sendRaw(raw,319,38);
      break;
      case 'a':
      raw[319] = on[319];
      Serial.println(F("Da bat"));
      irsend.sendRaw(raw,319,38);
      break;
      case 'd':
      raw[319] = off[319];
      Serial.println(F("Da tat"));
      irsend.sendRaw(raw,319,38);
      break;
      default:
      break;
    }
  }
}
